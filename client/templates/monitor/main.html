<Template name="monitorMain">
  <div id="monitor-main-container" class="container-fluid">
    <div class="panel panel-default">
      <div class="panel-body">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Team</th>
              <th>Websocket connection</th>
              <th>Missing messages</th>
              <th>Pending message delivery</th>
            </tr>
          </thead>
          <tbody>
            {{#each teams}}
              {{> monitorTeam}}
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</Template>

<Template name="monitorTeam">
  <tr>
    <td>
      {{teamName}}
    </td>
    <td>
      <i class="status fa fa-circle {{#if isWSGood}}good{{/if}}"></i>
      <span class="date">{{wsCheckedAt}}</span>
    </td>
    <td>
      <i class="status fa fa-circle {{#if isChannelMessagesGood}}good{{/if}}"></i>
      <span class="date">{{channelsCheckedAt}}</span>
    </td>
    <td>
      <i class="status fa fa-circle {{#if isChannelOutingGood}}good{{/if}}"></i>
      <span class="date">{{channelsCheckedAt}}</span>
    </td>
  </tr>
</Template>
